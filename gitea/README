
gitea + MySQL

prepare:
docker volume create gitea_db
docker volume create gitea_server
docker volume create gitea_drone

docker-compose create --force-recreate
docker-compose start

# Drone does not create your database automatically.
echo "create database drone" | mysql -hdb.gitea -uroot -pgitea
echo "create user 'drone'@'%' IDENTIFIED BY 'drone'"  | mysql -hdb.gitea -uroot -pgitea
echo "grant all privileges on drone.* TO 'drone'@'%'" | mysql -hdb.gitea -uroot -pgitea

access:
http://server.gitea:3000
http://drone.gitea.docker

register drone application in gitea. settings -> applications -> Manage OAuth2 applications
    name: drone
    url:  http://drone.gitea.docker:80/login
    -> client id: c7a66454-7333-4226-b95d-408fdfb1ed72
    -> secret:    I8S2sUa0zYP_kdZLmRCZMG2ZtlZeMaeOI2YH01kU1C4=
    set client ids in compose file
    works from FF, not chrome
